<!DOCTYPE html>
<html>
  <head>
    <title>AbiMap - Bing Map</title>
    <link rel="icon" href="../favicon_io/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link href="MapFramework.css" rel="stylesheet" />
    <script
      type="text/javascript"
      src="https://www.bing.com/api/maps/mapcontrol?callback=GetMap&key=Au4lpY4XAcbwAXWza6oZPcR8zUOgJzoS4aN9x5RSByi7f3ZlFHBnEDeWE29cJ3ix"
      async
      defer
    ></script>
  </head>
  <body>
    <h1>Abi Map - Bing Map</h1>
    <section>
      <div id="myMap" style="width: 100vw; height: 80vh"></div>
      <script type="text/javascript">
        var map;

        function GetMap() {
          map = new Microsoft.Maps.Map("#myMap", {});

          //Load the spatial math module
          Microsoft.Maps.loadModule("Microsoft.Maps.SpatialMath", function () {
            //Request the user's location
            navigator.geolocation.getCurrentPosition(function (position) {
              var loc = new Microsoft.Maps.Location(
                position.coords.latitude,
                position.coords.longitude
              );
              //Add a pushpin at the user's location.
              var pin = new Microsoft.Maps.Pushpin(loc);
              map.entities.push(pin);
              // add pin for points of interest
              //uni
              var pushpin = new Microsoft.Maps.Pushpin(
                new Microsoft.Maps.Location(55.845211, -4.42), { color: 'blue' , text: 'U ', title: 'UWS', subTitle: 'Paisley Campus'});
              map.entities.push(pushpin); //Uni
              //Museum
              var pushpin2 = new Microsoft.Maps.Pushpin(
                new Microsoft.Maps.Location(55.84496, -4.43237), { color: 'blue' , text: 'M ', title: 'Museum', subTitle: 'Paisley Museum and Gallery'});
              map.entities.push(pushpin2); // Museum
              //Abbey
              var pushpin3 = new Microsoft.Maps.Pushpin(
                new Microsoft.Maps.Location(55.84033, -4.419), { color: 'blue' , text: 'A ', title: 'Abbey', subTitle: 'Paisley Abbey'});
              map.entities.push(pushpin3); //Abbey
              //Centre
              var pushpin4 = new Microsoft.Maps.Pushpin(
                new Microsoft.Maps.Location(55.8466, -4.40259), { color: 'blue' , text: 'C ', title: 'Centre', subTitle: 'Paisley Lagoon Centre'});
              map.entities.push(pushpin4); //Centre
              // //Center the map on the user's location.
              // map.setView({
              //   mapTypeId: Microsoft.Maps.MapTypeId.aerial,
              //   center: loc,
              //   zoom: 15
              // });
              });
          });
        }
      </script>
    </section>
  </body>
</html>
